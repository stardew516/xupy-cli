"use strict";var fs=require("fs"),path=require("path"),util=require("../utils/util"),projectPath=process.cwd();exports=module.exports=function(e,t){var i=e.substring(e.lastIndexOf("/")+1,e.lastIndexOf(".")),l=util.getRelativePath(e),r=l.replace(".xu",".js");if(0<e.indexOf(".xu")){var s=util.babelJs(t,i),o=util.getConfig(s.code),u=l.replace(".xu",".json"),a=util.getTypeUrl(e);util.getModuleName(s.code,a.type).then(function(e){if("production"===process.env.NODE_ENV){var t=util.upjs(e).code,i=util.trim(o);util.writeFile(path.resolve(projectPath,r),t),util.log(" [写入js文件]".green+" dist"+r),util.writeFile(path.resolve(projectPath,u),i),util.log(" [写入json文件]".green+" dist"+u)}else{var l=util.getConfig(s.code);util.writeFile(path.resolve(projectPath,r),e),util.log(" [写入js文件]".green+" dist"+r),util.writeFile(path.resolve(projectPath,u),l),util.log(" [写入json文件]".green+" dist"+u)}})}else{var n=util.getJsContent(e);util.writeFile(path.resolve(projectPath,l),n),util.log(" [写入js文件]".green+" dist"+r)}};